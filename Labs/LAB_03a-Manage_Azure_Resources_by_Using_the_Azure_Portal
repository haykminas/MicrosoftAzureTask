---
lab:
    title: '03a - Manage Azure resources by Using the Azure Portal'
    module: 'Module 03 - Azure Administration'
---

# Lab 03a - Manage Azure resources by Using the Azure Portal
# Student lab manual

## Lab scenario

You need to explore the basic Azure administration capabilities associated with provisioning resources and organizing them based on resource groups, including moving resources between resource groups. You also want to explore options for protecting disk resources from being accidentally deleted, while still allowing for modifying their performance characteristics and size.

## Objectives

In this lab, we will:

+ Task 1: Create resource groups and deploy resources to resource groups
+ Task 2: Move resources between resource groups
+ Task 3: Implement and test resource locks

## Estimated timing: 20 minutes

## Instructions

### Exercise 1

#### Task 1: Create resource groups and deploy resources to resource groups

In this task, you will use the Azure portal to create resource groups and create a disk in the resource group.

1. Sign in to the [Azure portal](https://portal.azure.com).

1. Search for and select **Resource groups**. 

1. On the **Resource groups** blade, click **+ Create** and create a resource group with the following settings:

    |Setting|Value|
    |---|---|
    |Subscription| the name of the Azure subscription you will use in this lab |
    |Resource Group| **az104-03a-rg1**|
    |Region| the name of any Azure region available in the subscription you will use in this lab |
 
1. Click **Review + Create** and then click **Create**.
 ![image](https://user-images.githubusercontent.com/49365614/111882896-8fe12800-89d1-11eb-9f81-4fd058d423dd.png)


1. In the Azure portal, search for and select **Disks**, click **+ Add**, and specify the following settings:

    |Setting|Value|
    |---|---|
    |Subscription| the name of the Azure subscription where you created the resource group |
    |Resource Group| **az104-03a-rg1** |
    |Disk name| **az104-03a-disk1** |
    |Region| the name of the Azure region where you created the resource group |
    |Availability zone| **None** |
    |Source type| **None** |

    >**Note**: When creating a resource, you have the option of creating a new resource group or using an existing one.

1. Change the disk type and size to **Standard HDD** and **32 GiB**, respectively.

1. Click **Review + Create** and then click **Create**.
![image](https://user-images.githubusercontent.com/49365614/111883253-907abe00-89d3-11eb-8e20-64e57370f123.png)


    >**Note**: Wait until the disk is created. This should take less than a minute.

#### Task 2: Move resources between resource groups 

In this task, we will move the disk resource you created in the previous task to a new resource group. 

1. Search for and select **Resource groups**. 

1. On the **Resource groups** blade, click the entry representing the **az104-03a-rg1** resource group you created in the previous task.

1. From the **Overview** blade of the resource group, in the list of resource group resources, select the entry representing the newly created disk, click **Move** in the toolbar, and, in the drop-down list, select **Move to another resource group**.
![image](https://user-images.githubusercontent.com/49365614/112530739-3c4f4f80-8dc0-11eb-873f-19a705dfaf4a.png)

    >**Note**: This method allows you to move multiple resources at the same time. 

1. On the **Move resources** blade, click **Create a new group**.

1. Below the **Resource group** text box, click **Create a new group** then type **az104-03a-rg2** in the text box, select the checkbox **I understand that tools and scripts associated with moved resources will not work until I update them to use new resource IDs**, and click **OK**.

1. Search and navigate to **resource group**.
1. Select **az104-03a-rg2** resource group.
1. Take a screenshot of the resources available in the **Overview** section and upload it to your personal Github account.
![image](../../Allfiles/Labs/03/az104-03a-rg2.jpg)
#### Task 3: Implement resource locks

In this task, you will apply a resource lock to an Azure resource group containing a disk resource.

1. In the Azure portal, search for and select **Managed Disks**, click **+ Add**, and specify the following settings:

    |Setting|Value|
    |---|---|
    |Subscription| the name of the subscription you are using in this lab |
    |Resource Group| click **create new** resource group and name it **az104-03a-rg3** |
    |Disk name| **az104-03a-disk2** |
    |Region| the name of the Azure region where you created the other resource groups in this lab |
    |Availability zone| **None** |
    |Source type| **None** |

1. Set the disk type and size to **Standard HDD** and **32 GiB**, respectively.

1. Click **Review + Create** and then click **Create**.

1. Click Go to resouce.

1. On the **az104-03a-rg3** resource group blade, click **Locks** then **+ Add** and specify the following settings:
![image](https://user-images.githubusercontent.com/49365614/112531631-3d34b100-8dc1-11eb-9be0-613893640f95.png)

    |Setting|Value|
    |---|---|
    |Lock name| **az104-03a-delete-lock** |
    |Lock type| **Delete** |
    
1. Click **OK**    

1. On the **az104-03a-rg3** resource group blade, click **Overview**, in the list of resource group resources, select the entry representing the disk you created earlier in this task, and click **Delete** in the toolbar. 

1. When prompted **Do you want to delete all the selected resources?**, in the **Confirm delete** text box, type **yes** and click **Delete**.

1. You should see an error message, notifying about the failed delete operation. 

    >**Note**: As the error message states, this is expected due to the delete lock applied on the resource group level.
![image](https://user-images.githubusercontent.com/49365614/112534005-06ac6580-8dc4-11eb-8b3a-f819c04f1282.png)

1. Navigate back to the list of resources of the **az104-03a-rg3** resource group and click the entry representing the **az104-03a-disk2** resource. 

1. On the **az104-03a-disk2** blade, in the **Settings** section, click **Size + performance**, set the disk type and size to **Premium SSD** and **64 GiB**, respectively, and click **Resize** to apply the change. Verify that the change was successful.

    >**Note**: This is expected, since the resource group-level lock applies to delete operations only. 

1. Take a screenshot of the current screen representing the **az104-03a-disk2** disk and upload it to your personal Github account.

#### Clean up resources

1. Navigate to the **az104-03a-rg3** resource group blade, display its **Locks** blade, and remove the lock **az104-03a-delete-lock** by clicking the **Delete** link on the right-hand side of the **Delete** lock entry.

#### Review

In this lab, you have:

- Created resource groups and deployed resources to resource groups
- Moved resources between resource groups
- Implemented and tested resource locks
